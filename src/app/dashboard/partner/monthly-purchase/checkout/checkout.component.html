<section class="async-background">
    <h2>Monthly Product Order</h2>

    <section class="async-container">
        <div class="title">
            <div class="control">
                <div class="back" (click)="back()" title="Back">
                    <mat-icon>arrow_back</mat-icon>
                </div>
                <!-- <button mat-raised-button><mat-icon>download</mat-icon>Download</button> -->
                <h3>Product Cart</h3>
            </div>
            
            <!-- <div class="fund-area">
                <a mat-list-item title="Checkout" mat-raised-button><mat-icon>payments</mat-icon>Pay</a>

                <div class="fund">
                    <span>Cost: {{currentCost | currency:'₦':'symbol':'1.2-2'}}</span>
                </div>
            </div> -->
        </div>


        <section class="main">

            <section class="cart">
                <!-- <h2>Your Cart</h2> -->
              
                <div *ngIf="cart.length === 0" class="cart-empty">
                  <p>Your cart is empty.</p>
                </div>
              
                <div class="cart-items">
                  <div *ngFor="let product of cart" class="cart-item">
                    <!-- <img [src]="'/img/products/' + (product.img ?? 'default.png')" alt="{{ product.name ?? 'Product Image' }}" class="product-img"> -->
                    <img src="/img/products/{{product.img}}.PNG" alt="{{product.name | titlecase}}">
                    <div class="item-details">
                      <h3>{{ product.name }}</h3>
                      <div style="font-weight: bold;">Price: {{ product.price | currency:'₦':'symbol':'1.0-0' }}</div>
                      <small [innerHTML]="product.desc | truncate: 180 " style="text-align: justify;"></small>
                      <div style="font-weight: bold;">Quantity: {{ product.quantity ?? 0 }}</div>
                      <div class="item-actions">
                        <button mat-flat-button (click)="increaseQuantity(product)">+</button>
                        <button mat-raised-button (click)="decreaseQuantity(product)">-</button>
                        <button mat-raised-button color="warn" (click)="removeFromCart(product)">Remove</button>
                      </div>
                    </div>
                  </div>
                </div>
              
                <div class="cart-summary">
                  <h3>Total Cost: {{ currentCost | currency:'₦':'symbol':'1.2-2' }}</h3>
                  <button mat-raised-button (click)="checkout()"> <mat-icon>payments</mat-icon> Proceed to Checkout</button>
                  <button mat-raised-button (click)="clearCart()"> <mat-icon>clear</mat-icon> Clear Cart</button>
                </div>
            </section>
              
              
           
        </section>

    </section>
</section>